<!--index.wxml-->
<!--1px = 750/320 = 2.34rpx;-->
<view class="container">
    <view class="swiper-container">
        <swiper class="swiper_box" autoplay="{{autoplay}}" interval="{{interval}}" duration="{{duration}}" bindchange="swiperchange" >
            <block wx:for="{{images}}" >
                <swiper-item>
                    <image src="{{item}}" bindtap="toDetailsTap" data-id="{{ids[index]}}" class="slide-image" width="750rpx" height="562.5rpx" />
                </swiper-item>
            </block>
        </swiper>
        <view class="dots">
            <block wx:for="{{images}}" wx:key="unique">
                <view class="dot{{index == swiperCurrent ? ' active' : ''}}"></view>
            </block>
        </view>
    </view>

    <view class="type-container">
        <scroll-view class="type-navbar" scroll-x="true" style="width: 100%">
            <view class="type-box" wx:for-items="{{categories}}">
                <view id="{{item.id}}" class="type-navbar-item {{activeCategoryId == item.id ? 'type-item-on' : ''}}" bindtap="tabClick">
                    {{item.name}}
                </view>
            </view>
        </scroll-view>
    </view>
    <button open-type='share' hidden='true'>{{fromid}}</button>
    <view class="goods-container">
        <view class="goods-box" wx:for-items="{{goods}}" wx:key="{{index}}"  >
            <view class="img-box" bindtap="toDetailsTap" data-id="{{item.id}}">
                <image src="{{item.cover[0]}}" class="image" />
            </view>
            <view class="goods-title">{{item.title}} 
            </view>
            <view class="goods-price">¥ {{item.price}}  <text class="goods-price-sel" wx:if="{{item.src_price>=item.price}}"> ¥ {{item.src_price}}</text>
            </view>
            <button class='goods-addshopcar' bindtap="addShopCar" data-id="{{item.id}}">加入购物车</button>

        </view>
    </view>
    <view hidden="{{loadingMoreHidden ? true : false}}" class="no-more-goods">没有更多啦</view>
</view>